<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Star Admin Premium Bootstrap Admin Dashboard Template</title>
    <!-- plugins:css -->
    <link rel="stylesheet" href="assets/vendors/iconfonts/mdi/css/materialdesignicons.min.css">
    <link rel="stylesheet" href="assets/vendors/iconfonts/ionicons/dist/css/ionicons.css">
    <link rel="stylesheet" href="assets/vendors/iconfonts/flag-icon-css/css/flag-icon.min.css">
    <link rel="stylesheet" href="assets/vendors/css/vendor.bundle.base.css">
    <link rel="stylesheet" href="assets/vendors/css/vendor.bundle.addons.css">
    <script type="text/javascript" src="controller/frontController.js"></script>

    <!-- Bottom Graph -->
    <script src="canvasjs.min.js"></script>
    <script>
                      window.onload = function () {

                      var chart = new CanvasJS.Chart("chartContainer", {
                        animationEnabled: true,
                        theme: "light2",
                        title:{
                          text: "Site Traffic"
                        },
                        axisX:{
                          valueFormatString: "DD MMM",
                          crosshair: {
                            enabled: true,
                            snapToDataPoint: true
                          }
                        },
                        axisY: {
                          title: "Number of Visits",
                          crosshair: {
                            enabled: true
                          }
                        },
                        toolTip:{
                          shared:true
                        },  
                        legend:{
                          cursor:"pointer",
                          verticalAlign: "bottom",
                          horizontalAlign: "left",
                          dockInsidePlotArea: true,
                          itemclick: toogleDataSeries
                        },
                        data: [{
                          type: "line",
                          showInLegend: true,
                          name: "Total Visit",
                          markerType: "square",
                          xValueFormatString: "DD MMM, YYYY",
                          color: "#F08080",
                          dataPoints: [
                            { x: new Date(2017, 0, 3), y: 650 },
                            { x: new Date(2017, 0, 4), y: 700 },
                            { x: new Date(2017, 0, 5), y: 710 },
                            { x: new Date(2017, 0, 6), y: 658 },
                            { x: new Date(2017, 0, 7), y: 734 },
                            { x: new Date(2017, 0, 8), y: 963 },
                            { x: new Date(2017, 0, 9), y: 847 },
                            { x: new Date(2017, 0, 10), y: 853 },
                            { x: new Date(2017, 0, 11), y: 869 },
                            { x: new Date(2017, 0, 12), y: 943 },
                            { x: new Date(2017, 0, 13), y: 970 },
                            { x: new Date(2017, 0, 14), y: 869 },
                            { x: new Date(2017, 0, 15), y: 890 },
                            { x: new Date(2017, 0, 16), y: 930 }
                          ]
                        },
                        {
                          type: "line",
                          showInLegend: true,
                          name: "Unique Visit",
                          lineDashType: "dash",
                          dataPoints: [
                            { x: new Date(2017, 0, 3), y: 510 },
                            { x: new Date(2017, 0, 4), y: 560 },
                            { x: new Date(2017, 0, 5), y: 540 },
                            { x: new Date(2017, 0, 6), y: 558 },
                            { x: new Date(2017, 0, 7), y: 544 },
                            { x: new Date(2017, 0, 8), y: 693 },
                            { x: new Date(2017, 0, 9), y: 657 },
                            { x: new Date(2017, 0, 10), y: 663 },
                            { x: new Date(2017, 0, 11), y: 639 },
                            { x: new Date(2017, 0, 12), y: 673 },
                            { x: new Date(2017, 0, 13), y: 660 },
                            { x: new Date(2017, 0, 14), y: 562 },
                            { x: new Date(2017, 0, 15), y: 643 },
                            { x: new Date(2017, 0, 16), y: 570 }
                          ]
                        }]
                      });
                      chart.render();

                      function toogleDataSeries(e){
                        if (typeof(e.dataSeries.visible) === "undefined" || e.dataSeries.visible) {
                          e.dataSeries.visible = false;
                        } else{
                          e.dataSeries.visible = true;
                        }
                        chart.render();
                      }

                      }
                      </script>

    <!-- Map Controller -->
    <script type="text/javascript" src="controller/map.js"></script>
    <script
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBqWR38L4RRN7k4UWAr2eeOh5ZGXH0bb08&callback=initMap&libraries=&v=weekly"
      defer
    ></script>

    <!-- Date Picker -->
    <!-- <script src="jquery-1.6.1.min.js"></script> -->
    <!-- <script src="datePicker.js"></script> -->
      <link href = "https://code.jquery.com/ui/1.10.4/themes/ui-lightness/jquery-ui.css" rel = "stylesheet">
      <script src = "https://code.jquery.com/jquery-1.10.2.js"></script>
      <script src = "https://code.jquery.com/ui/1.10.4/jquery-ui.js"></script>
      <script>
        $.noConflict();
          jQuery(document).ready(function ($) {
            var dateFormat = "mm/dd/yy",
            from = $( "#from" )
              .datepicker({
                defaultDate: "+1w",
                changeMonth: true,
                changeYear: true,
                numberOfMonths: 1,
                maxDate: '-1d',
                minDate: new Date(2015, 0, 1)
              })
              .on( "change", function() {
                var date = getDate( this );

                to.datepicker( "option", "minDate", date );

                var newDate = getDate( this );
                newDate.setMonth(newDate.getMonth() + 1);
                if (newDate > new Date()) {
                    newDate = new Date();
                }

                to.datepicker( "option", "maxDate", newDate );

                to.datepicker( "option", "disabled", false );
              }),
            
            to = $( "#to" ).datepicker({
              defaultDate: "+1w",
              changeMonth: true,
              changeYear: true,
              numberOfMonths: 1,
              maxDate: '0',
              minDate: new Date(2015, 0, 2),
              disabled: true
            })
            .on( "change", function() {
              from.datepicker( "option", "maxDate", getDate( this ) );
            });
       
            function getDate( element ) {
              var date;
              try {
                date = $.datepicker.parseDate( dateFormat, element.value );
              } catch( error ) {
                date = null;
              }
       
            return date;
          }
        });
      </script>

    <!-- endinject -->
    <!-- plugin css for this page -->
    <!-- End plugin css for this page -->
    <!-- inject:css -->
    <link rel="stylesheet" href="assets/css/shared/style.css">
    <!-- endinject -->
    <!-- Layout styles -->
    <link rel="stylesheet" href="assets/css/demo_1/style.css">
    <!-- End Layout styles -->
    <link rel="shortcut icon" href="assets/images/favicon.ico" />
  </head>
  <body>
    <div class="container-scroller">
      <!-- partial:partials/_navbar.html -->
      <!-- partial -->
      <div class="container-fluid page-body-wrapper">
        <!-- partial:partials/_sidebar.html -->
        <!-- partial -->
        <div class="main-panel">
          <div class="content-wrapper">
            <!-- Page Title Header Starts-->
            <div class="row page-title-header">
              <div class="col-12">
                <div class="page-header">
                  <h4 class="page-title">Dashboard</h4>
                  <div class="quick-link-wrapper w-100 d-md-flex flex-md-wrap">
                    <ul class="quick-links">
                      <li><a href="#">ICE Market data</a></li>
                      <li><a href="#">Own analysis</a></li>
                      <li><a href="#">Historic market data</a></li>
                    </ul>
                    <ul class="quick-links ml-auto">
                      <li><a href="#">Settings</a></li>
                      <li><a href="#">Analytics</a></li>
                      <li><a href="#">Watchlist</a></li>
                    </ul>
                  </div>
                </div>
              </div>
              <div class="col-md-12">
                <div class="page-header-toolbar">
                  <label for="from">De </label>
                  <input type="text" id="from" name="fromDate" placeholder="Data Inicial">
                  <label for="to"> Até </label>
                  <input type="text" id="to" name="toDate" placeholder="Data Final">
                  <!-- <div class="btn-group toolbar-item" role="group" aria-label="Basic example"> 
                    <button type="button" class="btn btn-secondary"><i class="mdi mdi-chevron-left"></i></button>
                    <button type="button" class="btn btn-secondary">03/02/2019 - 20/08/2019</button>
                    <button type="button" class="btn btn-secondary"><i class="mdi mdi-chevron-right"></i></button>
                  </div>
                  <div class="filter-wrapper">
                    <div class="dropdown toolbar-item">
                      <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownsorting" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">All Day</button>
                      <div class="dropdown-menu" aria-labelledby="dropdownsorting">
                        <a class="dropdown-item" href="#">Last Day</a>
                        <a class="dropdown-item" href="#">Last Month</a>
                        <a class="dropdown-item" href="#">Last Year</a>
                      </div>
                    </div>
                    <a href="#" class="advanced-link toolbar-item">Advanced Options</a>
                  </div>
                  <div class="sort-wrapper">
                    <button type="button" class="btn btn-primary toolbar-item">New</button>
                    <div class="dropdown ml-lg-auto ml-3 toolbar-item">
                      <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownexport" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Export</button>
                      <div class="dropdown-menu" aria-labelledby="dropdownexport">
                        <a class="dropdown-item" href="#">Export as PDF</a>
                        <a class="dropdown-item" href="#">Export as DOCX</a>
                        <a class="dropdown-item" href="#">Export as CDR</a>
                      </div>
                    </div>
                  </div>
                  -->
                </div>
              </div>
            </div>
            
            <!-- Mapa -->
            <div class="row">
              <div class="col-md-8 grid-margin stretch-card">
                <div class="card">
                  <div id="map" class="card-body">
                    <!-- MAPA AQUI-->
                  </div>
                </div>
              </div>

              <!-- Grafico -->

              <div class="col-md-4 grid-margin stretch-card">
                <div class="card">
                  <div class="card-body d-flex flex-column">
                    <div class="wrapper">
                      <h4 class="card-title mb-0">Net Profit Margin</h4>
                      <p>Started collecting data from February 2019</p>
                      <div class="mb-4" id="net-profit-legend"></div>
                    </div>
                    <!-- Map right side -->
                    <p>.</p>
                    <button type="button" onclick="initMap()">getAll</button>
                    <p>.</p>
                    <p>.</p>
                    <p>.</p>
                    <p id="testRest">.</p>
                    <p>.</p>
                    <p>.</p>
                    <p>.</p>
                    <p>.</p>
                    <p>.</p>
                    <button type="button" onclick="getAll()">getAll</button>
                    <input id="idRadar" type="text" placeholder="Numero do Radar" />
                    <button type="button" onclick="getRadar()">getRadar</button>
                    <p>.</p>
                    <p>.</p>
                    
                  </div>
                </div>
              </div>
            </div>

            <div id="chartContainer" style="height: 370px; max-width: 920px; margin: 0px auto;"></div>

          </div>
          <!-- content-wrapper ends -->
          <!-- partial:partials/_footer.html -->
          <footer class="footer">
            <div class="container-fluid clearfix">
              <span class="text-muted d-block text-center text-sm-left d-sm-inline-block">Copyright © 2019 <a href="http://www.bootstrapdash.com/" target="_blank">Bootstrapdash</a>. All rights reserved.</span>
              <span class="float-none float-sm-right d-block mt-1 mt-sm-0 text-center">Hand-crafted & made with <i class="mdi mdi-heart text-danger"></i>
              </span>
            </div>
          </footer>
          <!-- partial -->
        </div>
        <!-- main-panel ends -->
      </div>
      <!-- page-body-wrapper ends -->
    </div>
    <!-- container-scroller -->
    <!-- plugins:js -->
    <script src="assets/vendors/js/vendor.bundle.base.js"></script>
    <script src="assets/vendors/js/vendor.bundle.addons.js"></script>
    <!-- endinject -->
    <!-- Plugin js for this page-->
    <!-- End plugin js for this page-->
    <!-- inject:js -->
    <script src="assets/js/shared/off-canvas.js"></script>
    <script src="assets/js/shared/misc.js"></script>
    <!-- endinject -->
    <!-- Custom js for this page-->
    <script src="assets/js/demo_1/dashboard.js"></script>
    <!-- End custom js for this page-->
  </body>
</html>
